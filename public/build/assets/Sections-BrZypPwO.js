import{u as p,r as n,z as d,j as t,L as f}from"./app-BTyKEQgh.js";import{S as g}from"./SimpleLayout-BkCaB_Hr.js";import{u as b}from"./useRoles-n397psr_.js";function C({sections:r=[]}){const{isAccountant:a}=b(),{flash:l}=p().props;n.useEffect(()=>{l?.error&&d.error(l.error),l?.success&&d.success(l.success)},[l]);const[s,i]=n.useState("all"),u=e=>e?.school_class??e?.schoolClass??null,h=(e,x)=>{const o=String(e??"").trim().toLowerCase();return o?o===x||o.includes(x):!0},m=n.useMemo(()=>!a||s==="all"?r:r.filter(e=>h(u(e)?.type,s)),[r,s,a]);return t.jsxs(g,{title:"Select Section",children:[a&&t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx(c,{active:s==="all",onClick:()=>i("all"),color:"blue",children:"All"}),t.jsx(c,{active:s==="gurmukhi",onClick:()=>i("gurmukhi"),color:"blue",children:"Gurmukhi"}),t.jsx(c,{active:s==="kirtan",onClick:()=>i("kirtan"),color:"purple",children:"Kirtan"})]}),t.jsxs("div",{className:"space-y-3",children:[m.map(e=>t.jsxs(f,{href:`/attendance/sections/${e.id}`,className:"block bg-white border rounded-xl p-4 hover:bg-gray-50",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:u(e)?.name??"Class"}),t.jsx("p",{className:"text-sm text-gray-500",children:e.name})]},e.id)),m.length===0&&t.jsx("p",{className:"text-center text-sm text-gray-400",children:"No sections found"})]})]})}function c({active:r,onClick:a,color:l,children:s}){const i={blue:r?"bg-blue-600 text-white":"bg-white text-gray-700",purple:r?"bg-purple-600 text-white":"bg-white text-gray-700"};return t.jsx("button",{onClick:a,className:`px-4 py-1 rounded-full text-sm font-medium border transition ${i[l]}`,children:s})}export{C as default};
