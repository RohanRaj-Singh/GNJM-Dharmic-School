import{j as e,r,L as p,a as g}from"./app-DMgsIovw.js";import{S as d}from"./SimpleLayout-BFrEoTM7.js";function f({student:a,fees:l=[]}){if(!a)return e.jsx(d,{title:"Receive Fee",children:e.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-center text-red-600",children:"Student not found."})});const[t,o]=r.useState([]),[i,c]=r.useState(!1),x=s=>{o(n=>n.includes(s)?n.filter(u=>u!==s):[...n,s])},m=l.filter(s=>t.includes(s.id)).reduce((s,n)=>s+n.amount,0),h=()=>{t.length!==0&&(c(!0),g.post("/accountant/receive-fee",{fee_ids:t},{onFinish:()=>c(!1)}))};return e.jsx(d,{title:"Receive Fee",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"bg-white rounded-xl shadow p-5",children:[e.jsx("h2",{className:"text-xl font-semibold",children:a.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Father: ",a.father_name]})]}),e.jsxs("div",{className:"bg-white rounded-xl shadow p-5 space-y-3",children:[e.jsx("h3",{className:"font-semibold text-gray-700",children:"Select Month(s)"}),l.length===0&&e.jsx("p",{className:"text-green-600 text-sm",children:"✔ No pending fees"}),l.map(s=>e.jsxs("label",{className:"flex items-center justify-between border rounded-lg px-3 py-2 cursor-pointer",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("input",{type:"checkbox",checked:t.includes(s.id),onChange:()=>x(s.id)}),e.jsx("span",{className:"text-sm",children:s.month})]}),e.jsxs("span",{className:"text-sm font-medium",children:["₹",s.amount]})]},s.id))]}),t.length>0&&e.jsxs("div",{className:"bg-white rounded-xl shadow p-5",children:[e.jsx("p",{className:"text-sm text-gray-600",children:"Total Amount"}),e.jsxs("p",{className:"text-xl font-semibold",children:["₹",m]})]}),e.jsx("button",{onClick:h,disabled:i||t.length===0,className:"w-full bg-green-600 text-white py-3 rounded-lg disabled:opacity-50",children:i?"Processing...":"Confirm Payment"}),e.jsx("div",{className:"text-center",children:e.jsx(p,{href:`/accountant/students/${a.id}`,className:"text-sm text-gray-600 underline",children:"← Back to Student"})})]})})}export{f as default};
