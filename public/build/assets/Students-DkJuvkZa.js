import{r as o,j as e,L as h}from"./app-DdEuiNui.js";import{S as p}from"./SimpleLayout-BiFMnZSm.js";function y({students:i=[]}){const[a,x]=o.useState(""),[r,c]=o.useState("gurmukhi"),m=o.useMemo(()=>{const t=a.trim().toLowerCase();return(i??[]).filter(s=>t===""||String(s?.name??"").toLowerCase().includes(t)||String(s?.father_name??"").toLowerCase().includes(t)?(s?.enrollments??[]).some(l=>{const n=String(l?.school_class?.type??"").trim().toLowerCase();return n?n===r||n.includes(r):!0}):!1)},[i,a,r]);return e.jsx(p,{title:"Students",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsx("button",{onClick:()=>c("gurmukhi"),className:`px-3 py-1 rounded-full text-sm font-medium border ${r==="gurmukhi"?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:"Gurmukhi"}),e.jsx("button",{onClick:()=>c("kirtan"),className:`px-3 py-1 rounded-full text-sm font-medium border ${r==="kirtan"?"bg-purple-600 text-white":"bg-white text-gray-700"}`,children:"Kirtan"})]}),e.jsx("input",{type:"text",value:a,onChange:t=>x(t.target.value),placeholder:"Search by student or father",className:"w-full border rounded-lg px-3 py-2"}),m.map(t=>e.jsxs(h,{href:`/students/${t.id}`,className:"block bg-white rounded-xl shadow p-4",children:[e.jsx("p",{className:"font-semibold text-gray-800",children:t.name}),e.jsxs("p",{className:"text-sm text-gray-500",children:["Father: ",t.father_name||"-"]}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-3 text-xs",children:(t.enrollments??[]).map(s=>{const u=s?.school_class?.name??"Class",d=s?.section?.name??"Section",l=String(s?.school_class?.type??"").toLowerCase().includes("kirtan");return e.jsxs("span",{className:`px-2 py-1 rounded-full ${l?"bg-purple-100 text-purple-700":"bg-gray-100 text-gray-700"}`,children:[u," - ",d]},s.id)})})]},t.id)),m.length===0&&e.jsx("div",{className:"bg-white rounded-xl shadow p-6 text-sm text-gray-500 text-center",children:"No students found"})]})})}export{y as default};
