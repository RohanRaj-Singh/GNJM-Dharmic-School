import{j as s,L as o}from"./app-DNV1NS2O.js";import{S as x}from"./SimpleLayout-Cwrni4i2.js";function h({fees:c=[]}){const r=e=>{if(!e||typeof e!="string")return 0;const[t,a]=e.split("-").map(Number);return!Number.isFinite(t)||!Number.isFinite(a)?0:t*100+a},n=e=>!!e?.is_paid||Array.isArray(e?.payments)&&e.payments.length>0,l=[...c].sort((e,t)=>{const a=(e?.enrollment?.student?.name??"").toLowerCase(),d=(t?.enrollment?.student?.name??"").toLowerCase();if(a!==d)return a.localeCompare(d);const i=n(e)?1:0,m=n(t)?1:0;return i!==m?i-m:r(t?.month)-r(e?.month)});return s.jsx(x,{title:"Pending Fees",children:s.jsxs("div",{className:"space-y-4",children:[l.length===0&&s.jsxs("div",{className:"bg-white rounded-xl shadow p-6 text-center",children:[s.jsx("p",{className:"text-green-600 font-medium",children:"No pending fees"}),s.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"All monthly fees are cleared"})]}),l.map(e=>s.jsxs("div",{className:"bg-white rounded-xl shadow p-4",children:[s.jsxs("div",{className:"mb-3",children:[s.jsx(o,{href:`/students/${e.enrollment.student.id}`,className:"text-lg font-semibold text-blue-600 underline",children:e.enrollment.student.name}),s.jsxs("p",{className:"text-xs text-gray-500",children:["Father: ",e.enrollment.student.father_name]})]}),s.jsxs("div",{className:"flex gap-2 text-xs mb-3",children:[s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:e.enrollment.school_class.name}),e.enrollment.section&&s.jsx("span",{className:"bg-gray-100 px-2 py-1 rounded",children:e.enrollment.section.name}),s.jsx("span",{className:`px-2 py-1 rounded ${n(e)?"bg-emerald-100 text-emerald-700":"bg-rose-100 text-rose-700"}`,children:n(e)?"Paid":"Unpaid"})]}),s.jsxs("div",{className:"flex justify-between items-center text-sm",children:[s.jsxs("div",{children:[s.jsxs("p",{className:"text-gray-600",children:["Month: ",s.jsx("span",{className:"font-medium text-gray-800",children:e.month})]}),s.jsxs("p",{className:"text-gray-600",children:["Amount: ",s.jsxs("span",{className:"font-medium text-gray-800",children:["Rs ",e.amount]})]})]}),!n(e)&&s.jsx(o,{href:`/accountant/receive-fee?student_id=${e.enrollment.student.id}`,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm",children:"Receive"})]})]},e.id))]})})}export{h as default};
