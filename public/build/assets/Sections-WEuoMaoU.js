import{u as f,r as o,z as x,j as t,L as g}from"./app-CTki7zJQ.js";import{S as b}from"./SimpleLayout-DfBoLEm0.js";import{u as k}from"./useRoles-CZWpXxNx.js";function S({sections:s=[]}){const{isAccountant:a}=k(),{flash:l}=f().props;o.useEffect(()=>{l?.error&&x.error(l.error),l?.success&&x.success(l.success)},[l]);const[r,i]=o.useState("all"),u=e=>e?.school_class??e?.schoolClass??null,d=e=>{const h=String(e?.type??"").trim().toLowerCase(),p=String(e?.name??"").trim().toLowerCase(),n=`${h} ${p}`.trim();return n?n.includes("kirtan")?"kirtan":n.includes("gurmukhi")?"gurmukhi":"":""},m=o.useMemo(()=>!a||r==="all"?s:s.filter(e=>d(u(e))===r),[s,r,a]);return t.jsxs(b,{title:"Select Section",children:[a&&t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx(c,{active:r==="all",onClick:()=>i("all"),color:"blue",children:"All"}),t.jsx(c,{active:r==="gurmukhi",onClick:()=>i("gurmukhi"),color:"blue",children:"Gurmukhi"}),t.jsx(c,{active:r==="kirtan",onClick:()=>i("kirtan"),color:"purple",children:"Kirtan"})]}),t.jsxs("div",{className:"space-y-3",children:[m.map(e=>t.jsxs(g,{href:`/attendance/sections/${e.id}`,className:"block bg-white border rounded-xl p-4 hover:bg-gray-50",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:u(e)?.name??"Class"}),t.jsx("p",{className:"text-sm text-gray-500",children:e.name})]},e.id)),m.length===0&&t.jsx("p",{className:"text-center text-sm text-gray-400",children:"No sections found"})]})]})}function c({active:s,onClick:a,color:l,children:r}){const i={blue:s?"bg-blue-600 text-white":"bg-white text-gray-700",purple:s?"bg-purple-600 text-white":"bg-white text-gray-700"};return t.jsx("button",{onClick:a,className:`px-4 py-1 rounded-full text-sm font-medium border transition ${i[l]}`,children:r})}export{S as default};
