import{u as p,r as n,z as x,j as s,L as f}from"./app-DP1USPyG.js";import{S as g}from"./SimpleLayout-XZui24TN.js";import{u as b}from"./useRoles-DzZ3vsyP.js";function N({sections:r=[]}){const{isAccountant:a}=b(),{flash:t}=p().props;n.useEffect(()=>{t?.error&&x.error(t.error),t?.success&&x.success(t.success)},[t]);const[l,i]=n.useState("gurmukhi"),c=e=>e?.school_class??e?.schoolClass??null,h=(e,m)=>{const o=String(e??"").trim().toLowerCase();return o?o===m||o.includes(m):!0},u=n.useMemo(()=>a?r.filter(e=>h(c(e)?.type,l)):r,[r,l,a]);return s.jsxs(g,{title:"Select Section",children:[a&&s.jsxs("div",{className:"flex gap-2 mb-4",children:[s.jsx(d,{active:l==="gurmukhi",onClick:()=>i("gurmukhi"),color:"blue",children:"Gurmukhi"}),s.jsx(d,{active:l==="kirtan",onClick:()=>i("kirtan"),color:"purple",children:"Kirtan"})]}),s.jsxs("div",{className:"space-y-3",children:[u.map(e=>s.jsxs(f,{href:`/attendance/sections/${e.id}`,className:"block bg-white border rounded-xl p-4 hover:bg-gray-50",children:[s.jsx("p",{className:"font-semibold text-gray-800",children:c(e)?.name??"Class"}),s.jsx("p",{className:"text-sm text-gray-500",children:e.name})]},e.id)),u.length===0&&s.jsx("p",{className:"text-center text-sm text-gray-400",children:"No sections found"})]})]})}function d({active:r,onClick:a,color:t,children:l}){const i={blue:r?"bg-blue-600 text-white":"bg-white text-gray-700",purple:r?"bg-purple-600 text-white":"bg-white text-gray-700"};return s.jsx("button",{onClick:a,className:`px-4 py-1 rounded-full text-sm font-medium border transition ${i[t]}`,children:l})}export{N as default};
