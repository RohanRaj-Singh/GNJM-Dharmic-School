import{u as f,r as o,z as m,j as t,L as g}from"./app-Dzq2inqo.js";import{S as b}from"./SimpleLayout-D2_tELxR.js";import{u as k}from"./useRoles-B9GD20Rr.js";function C({sections:r=[]}){const{isAccountant:n}=k(),{flash:s}=f().props;o.useEffect(()=>{s?.error&&m.error(s.error),s?.success&&m.success(s.success)},[s]);const[i,a]=o.useState("gurmukhi"),c=e=>e?.school_class??e?.schoolClass??null,d=e=>{const h=String(e?.type??"").trim().toLowerCase(),p=String(e?.name??"").trim().toLowerCase(),l=`${h} ${p}`.trim();return l?l.includes("kirtan")?"kirtan":l.includes("gurmukhi")?"gurmukhi":"":""},u=o.useMemo(()=>n?r.filter(e=>d(c(e))===i):r,[r,i,n]);return t.jsxs(b,{title:"Select Section",children:[n&&t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx(x,{active:i==="gurmukhi",onClick:()=>a("gurmukhi"),color:"blue",children:"Gurmukhi"}),t.jsx(x,{active:i==="kirtan",onClick:()=>a("kirtan"),color:"purple",children:"Kirtan"})]}),t.jsxs("div",{className:"space-y-3",children:[u.map(e=>t.jsxs(g,{href:`/attendance/sections/${e.id}`,className:"block bg-white border rounded-xl p-4 hover:bg-gray-50",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:c(e)?.name??"Class"}),t.jsx("p",{className:"text-sm text-gray-500",children:e.name})]},e.id)),u.length===0&&t.jsx("p",{className:"text-center text-sm text-gray-400",children:"No sections found"})]})]})}function x({active:r,onClick:n,color:s,children:i}){const a={blue:r?"bg-blue-600 text-white":"bg-white text-gray-700",purple:r?"bg-purple-600 text-white":"bg-white text-gray-700"};return t.jsx("button",{onClick:n,className:`px-4 py-1 rounded-full text-sm font-medium border transition ${a[s]}`,children:i})}export{C as default};
