import{u as f,r as c,z as x,j as t,L as g}from"./app-BA81Vu_y.js";import{S as b}from"./SimpleLayout-CO9uc9dW.js";import{u as j}from"./useRoles-CsafxOiB.js";function S({sections:r=[]}){const{isAccountant:a}=j(),{flash:s}=f().props;c.useEffect(()=>{s?.error&&x.error(s.error),s?.success&&x.success(s.success)},[s]);const[n,l]=c.useState("gurmukhi"),i=e=>e?.school_class??e?.schoolClass??null,h=(e,m)=>{const o=String(e??"").trim().toLowerCase();return o?o===m||o.includes(m):!0},u=c.useMemo(()=>a?r.filter(e=>h(i(e)?.type,n)):r,[r,n,a]),p=e=>a?`/accountant/attendance/sections/${e}`:`/attendance/sections/${e}`;return t.jsxs(b,{title:"Select Section",children:[a&&t.jsxs("div",{className:"flex gap-2 mb-4",children:[t.jsx(d,{active:n==="gurmukhi",onClick:()=>l("gurmukhi"),color:"blue",children:"Gurmukhi"}),t.jsx(d,{active:n==="kirtan",onClick:()=>l("kirtan"),color:"purple",children:"Kirtan"})]}),t.jsxs("div",{className:"space-y-3",children:[u.map(e=>t.jsxs(g,{href:p(e.id),className:"block bg-white border rounded-xl p-4 hover:bg-gray-50",children:[t.jsx("p",{className:"font-semibold text-gray-800",children:i(e)?.name??"Class"}),t.jsx("p",{className:"text-sm text-gray-500",children:e.name})]},e.id)),u.length===0&&t.jsx("p",{className:"text-center text-sm text-gray-400",children:"No sections found"})]})]})}function d({active:r,onClick:a,color:s,children:n}){const l={blue:r?"bg-blue-600 text-white":"bg-white text-gray-700",purple:r?"bg-purple-600 text-white":"bg-white text-gray-700"};return t.jsx("button",{onClick:a,className:`px-4 py-1 rounded-full text-sm font-medium border transition ${l[s]}`,children:n})}export{S as default};
