import{r as h,b as x,j as e}from"./app-Bx2dRyDp.js";import{S as b}from"./SimpleLayout-BL5fnf_T.js";function y({classes:n}){const[a,o]=h.useState("paid"),{data:l,setData:s,post:c,processing:p}=x({name:"",father_name:"",father_phone:"",mother_phone:"",section_id:"",student_type:"paid"}),i=n.find(t=>t.sections.some(r=>r.id===Number(l.section_id)))?.default_monthly_fee??0,m=t=>{t.preventDefault(),c("/students")};return e.jsx(b,{title:"Add Student",children:e.jsxs("form",{onSubmit:m,className:"space-y-4",children:[e.jsx(d,{label:"Student Name",value:l.name,onChange:t=>s("name",t.target.value)}),e.jsx(d,{label:"Father Name",value:l.father_name,onChange:t=>s("father_name",t.target.value)}),e.jsx(d,{label:"Father Phone",placeholder:"Optional",value:l.father_phone,onChange:t=>s("father_phone",t.target.value)}),e.jsx(d,{label:"Mother Phone",placeholder:"Optional",value:l.mother_phone,onChange:t=>s("mother_phone",t.target.value)}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Section"}),e.jsxs("select",{className:"w-full mt-1 border rounded-lg px-3 py-2",value:l.section_id,onChange:t=>s("section_id",t.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select Section"}),n.map(t=>t.sections.map(r=>e.jsxs("option",{value:r.id,children:[t.name," â€“ ",r.name]},r.id)))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Student Type"}),e.jsxs("div",{className:"flex gap-4 mt-2",children:[e.jsx(u,{label:"Paid",active:a==="paid",onClick:()=>{o("paid"),s("student_type","paid")}}),e.jsx(u,{label:"Free",active:a==="free",onClick:()=>{o("free"),s("student_type","free")}})]})]}),a==="paid"&&i>0&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:"Monthly Fee"}),e.jsx("input",{type:"number",value:i,disabled:!0,className:"w-full mt-1 border rounded-lg px-3 py-2 bg-gray-100"}),e.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Default fee from class"})]}),e.jsx("button",{type:"submit",disabled:p,className:"w-full bg-blue-600 text-white py-3 rounded-lg",children:"Save Student"})]})})}function d({label:n,...a}){return e.jsxs("div",{children:[e.jsx("label",{className:"text-sm text-gray-600",children:n}),e.jsx("input",{...a,className:"w-full mt-1 border rounded-lg px-3 py-2 focus:outline-none focus:ring"})]})}function u({label:n,active:a,onClick:o}){return e.jsx("button",{type:"button",onClick:o,className:`px-4 py-2 rounded-lg border ${a?"bg-blue-600 text-white":"bg-white text-gray-700"}`,children:n})}export{y as default};
