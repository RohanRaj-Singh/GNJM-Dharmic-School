import{j as e}from"./app-BEcnfxoP.js";import{S as m}from"./SimpleLayout-BBGohQlw.js";function p({dueThisMonth:n=[],dueOlder:t=[],totalPending:s=0}){return e.jsx(m,{title:"Late Fees",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(l,{emoji:"ðŸ—“ï¸",title:"Due This Month",description:"Students whose monthly fee is pending for the current month",items:n}),e.jsx(l,{emoji:"ðŸ“‚",title:"Pending From Previous Months",description:"Fees pending from earlier months",items:t}),e.jsxs("div",{className:"bg-gray-50 border rounded-xl p-6 text-center",children:[e.jsx("h3",{className:"text-base font-medium text-gray-700",children:"ðŸ“Œ Total Pending Amount"}),e.jsxs("p",{className:"text-3xl font-semibold text-gray-800 mt-2",children:["â‚¹",s]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"Combined unpaid monthly fees"})]})]})})}function l({emoji:n,title:t,description:s,items:i}){const c=x(i),a=Object.values(c);return e.jsxs("div",{className:"bg-white rounded-xl border shadow-sm p-5",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-base font-medium text-gray-800",children:[n," ",t]}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",children:s})]}),e.jsx("span",{className:"text-sm text-gray-600",children:a.length})]}),a.length===0?e.jsx("p",{className:"mt-4 text-sm text-gray-600 text-center",children:"No pending fees"}):e.jsx("div",{className:"mt-4 space-y-4",children:a.map(r=>e.jsxs("div",{className:"border rounded-xl p-4",children:[e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-base font-semibold text-gray-800",children:r.student}),e.jsxs("p",{className:"text-sm text-gray-500",children:[r.class," Â· ",r.section]})]}),e.jsx("button",{onClick:()=>window.location.href=`/accountant/receive-fee?student_id=${r.student_id}`,className:"bg-green-600 text-white px-4 py-2 rounded-lg text-sm",children:"Collect Fee"})]}),e.jsx("ul",{className:"space-y-1 text-sm",children:h(r.fees).map((d,o)=>e.jsxs("li",{className:"flex justify-between text-gray-600",children:[e.jsxs("span",{children:["âŒ ",d.month]}),e.jsxs("span",{children:["â‚¹",d.amount]})]},o))})]},`${r.student_id}-${r.section}`))})]})}function x(n){return n.reduce((t,s)=>{const i=`${s.student_id}-${s.section}`;return t[i]||(t[i]={student_id:s.student_id,student:s.student,class:s.class,section:s.section,fees:[]}),t[i].fees.push({month:s.month,amount:s.amount}),t},{})}function h(n){return Object.values(n.reduce((t,s)=>(t[s.month]=s,t),{}))}export{p as default};
