import{r as d,j as e}from"./app-B9wd75CU.js";import{A as c}from"./AdminLayout-DCVp67Wi.js";import{f as n}from"./helper-BxvJq_M8.js";function s({label:t,value:l,sub:a,color:r="text-gray-800"}){return e.jsxs("div",{className:"bg-white border rounded-lg p-4",children:[e.jsx("div",{className:"text-xs text-gray-500 mb-1",children:t}),e.jsx("div",{className:`text-2xl font-semibold ${r}`,children:l}),a&&e.jsx("div",{className:"text-xs text-gray-400 mt-1",children:a})]})}function g(){const[t,l]=d.useState(null),[a,r]=d.useState(!0);return d.useEffect(()=>{fetch("/admin/dashboard/summary").then(o=>o.json()).then(l).finally(()=>r(!1))},[]),e.jsxs(c,{title:"Dashboard",children:[a&&e.jsx("div",{className:"bg-white border rounded p-6 text-gray-500",children:"Loading dashboard…"}),!a&&t&&e.jsxs("div",{className:"space-y-8",children:[e.jsxs("section",{children:[e.jsxs("h3",{className:"text-sm font-semibold text-gray-600 mb-3",children:["Fees Overview (",t.meta.year,")"]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(s,{label:"Total Fees",value:n(t.fees.total)}),e.jsx(s,{label:"Collected",value:n(t.fees.collected),color:"text-green-700"}),e.jsx(s,{label:"Pending",value:n(t.fees.pending),color:"text-red-600"}),e.jsx(s,{label:"Collection Rate",value:`${t.fees.percentage}%`,sub:"Based on collected vs total",color:"text-blue-700"})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-3",children:"Attendance Overview"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsx(s,{label:"Attendance %",value:`${t.attendance.percentage}%`,color:"text-green-700"}),e.jsx(s,{label:"Present",value:t.attendance.present,color:"text-green-600"}),e.jsx(s,{label:"Absent",value:t.attendance.absent,color:"text-red-600"}),e.jsx(s,{label:"Leave",value:t.attendance.leave,color:"text-yellow-600"})]})]}),e.jsxs("section",{children:[e.jsx("h3",{className:"text-sm font-semibold text-gray-600 mb-3",children:"Students Snapshot"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(s,{label:"Total Students",value:t.students.total}),e.jsx(s,{label:"Active Students",value:t.students.active,color:"text-green-700"}),e.jsx(s,{label:"Total Enrollments",value:t.students.enrollments,sub:"Student ↔ Class mappings"})]})]}),e.jsxs("div",{className:"text-xs text-gray-400 text-right",children:["Last updated: ",t.meta.generated_at]})]})]})}export{g as default};
